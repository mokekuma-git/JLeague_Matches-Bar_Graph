<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>J League Matches Bar Graph</title>
  <meta property="og:title" content="JLeague_Matches-Bar_Graph" />
  <meta property="og:description" content="Jリーグの勝ち点 (取得済み & 今後取り得る) を各チームの試合情報と共に積み上げたグラフを自動生成" />
  <meta property="og:image" content="https://mokekuma-git.github.io/JLeague_Matches-Bar_Graph/android-chrome-256x256.png" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@Moke_kuma" />
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" href="android-chrome-192x192.png">
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@riversun/sortable-table/lib/sortable-table.js"></script>
  <link rel="stylesheet" href="j_points.css">
  <link rel="stylesheet" href="team_style.css">
  <script type="module" crossorigin src="./assets/j_points-D6J_YKsT.js"></script>
</head>
<body>

<section id="controls" style="margin:1em; display:flex; gap:1.5em; flex-wrap:wrap; align-items:center;">
  <label>
    カテゴリ:
    <select id="category_key">
      <!-- populated dynamically from season_map.json -->
    </select>
  </label>
  <label>
    シーズン:
    <select id="season_key"></select>
  </label>
  <label>
    表示日:
    <input type="date" id="target_date">
  </label>
  <label>
    チームソート:
    <select id="team_sort_key">
      <option value="disp_point" selected>勝点(表示時)</option>
      <option value="disp_avlbl_pt">最大勝点(表示時)</option>
      <option value="point">勝点(最新)</option>
      <option value="avlbl_pt">最大勝点(最新)</option>
    </select>
  </label>
  <label>
    試合ソート:
    <select id="match_sort_key">
      <option value="old_bottom" selected>古い試合が下</option>
      <option value="new_bottom">新しい試合が下</option>
      <option value="first_bottom">第1節が下</option>
      <option value="last_bottom">最終節が下</option>
    </select>
  </label>
  <span id="status_msg" style="color:#666; font-size:0.9em;"></span>
  <span style="color:#999; font-size:0.85em;">データ取得時刻: <span id="data_timestamp"></span></span>
</section>

<!-- Date slider -->
<section id="date_slider_section" style="margin:0.5em 1em; display:flex; gap:0.5em; align-items:center; flex-wrap:wrap;">
  <span id="pre_date_slider">開幕前</span>
  <button id="date_slider_down">＜</button>
  <input type="range" id="date_slider" min="0" max="0" step="1" value="0" style="width:300px;"/>
  <button id="date_slider_up">＞</button>
  <span id="post_date_slider"></span>
  [<span id="target_date_display"></span>]
  <button id="reset_date_slider">最新にリセット</button>
</section>

<!-- Appearance controls -->
<section id="appearance_controls" style="margin:0.5em 1em; display:flex; gap:1.5em; align-items:center; flex-wrap:wrap;">
  <label>
    グラフ縮小:
    <input type="range" id="scale_slider" min="0.1" max="1" step="0.1" value="1"/>
    <span id="current_scale">1</span>倍
  </label>
  <label>
    未実施試合透明度:
    <input type="range" id="future_opacity" min="0" max="0.5" step="0.01" value="0.1"/>
    [<span id="current_opacity"></span>]
  </label>
  <label>
    余白色:
    <input type="color" id="space_color" value="#000000"/>
  </label>
  <button id="reset_prefs">設定をリセット</button>
</section>

<!-- Bar graph container -->
<div id="box_container"></div>

<!-- Hidden .short div for HEIGHT_UNIT calculation -->
<div class="short" style="display:none;"></div>

<hr/>
データ参照元: <a href="https://www.jleague.jp/match/">Jリーグ公式サイト: 日程結果</a><br/>
<br/>
<a href="https://github.com/mokekuma-git/JLeague_Matches-Bar_Graph">Github公開場所</a>
<hr/>

<section id="ranktable_section" style="margin:1em;">
  <div class="sortable-table">
    <table id="ranktable" class="ranktable">
      <thead></thead>
    </table>
  </div>
  <ul>
    <li>どの判定も、3チーム以上の対戦成績の関係から、実際には確定していても「自力」「他力」と示す場合アリ</li>
    <li>(「確定」「降格」「なし」と判定されている場合は、それぞれ決定済み)</li>
    <li>昇格・降格: プレーオフ参戦決定も、それぞれ「確定」「降格」と表示</li>
    <li>(別リーグの影響で昇格・降格数が減るケースは考慮しない 例: 2021宮崎がJ3昇格圏内になった時に、所持ライセンスのためJ2に昇格せずJ3昇格・J2降格が1枠減るケースなど)</li>
    <li>ACL: 天皇杯優勝チームがACL参加時の繰り上がり権利獲得は含まない (「なし」と表示)</li>
  </ul>
</section>

</body>
</html>
