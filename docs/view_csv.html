<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>CSV Viewer</title>
    <script src="https://unpkg.com/papaparse@5.3.0/papaparse.min.js"></script>
  </head>
  <body>
    <form>
      <span>
        <select id="team_sort_key" name="team_sort_key">
          <option value="disp_point" selected="true">表示時の勝ち点</option>
          <option value="disp_avlbl_pt">表示時の最大勝点</option>
          <option value="disp_avrg_pt">表示時の平均勝点</option>
          <option value="point">最新の勝ち点</option>
          <option value="avlbl_pt">最新の最大勝ち点</option>
          <option value="avrg_pt">最新の平均勝ち点</option>
        </select>
        <label for="team_sort_key">チーム並び順</label>
      </span>&nbsp;
      <span>
        <select id="match_sort_key" name="match_sort_key">
          <option value="old_bottom" selected="true">古い試合が下</option>
          <option value="new_bottom">新しい試合が下</option>
          <option value="first_bottom">第1節が下</option>
          <option value="last_bottom">最終節が下</option>
        </select>
        <label for="match_sort_key">試合上下順</label>
      </span>&nbsp;
      <span>
        <select id="category" name="category">
          <option value="1" selected="true">J1</option>
          <option value="2">J2</option>
          <option value="3">J3</option>
        </select>
        <label for="category">対象カテゴリ</label>
      </span>&nbsp;
      <span>
        <select id="season" name="season">
          <option value="current" selected="true">現在</option>
          </select>
        <label for="season">対象シーズン</label>
      </span>&nbsp;
      <br/>
      <span>
        <span id='pre_date_slider'></span>
        <input type="button" id='date_slider_down' value="＜"/>
        <input type="range" id="date_slider" name="date_slider" list="match_date_set" min=0 max=0 step=1 />
        <input type="button" id='date_slider_up' value="＞"/>
        <label for="date_slider"> <span id='post_date_slider'></span> [<span id="target_date"></span> の状況]</label>
      </span><br/>
      <input type="button" id="reset_date_slider" name="reset_date_slider" value="最新の状態にリセット" />
      試合データ取得時刻: <span id="data_timestamp"></span>
      <hr/>
      
      <input type="text" id="season" name="csv-url" value="./csv/2023_allmatch_result-J3.csv">
      <button type="submit">Load CSV</button>

      <div id="box_container">
      
      </div>
      <div class='short' style='display: none;'></div>
      <hr/>
      <span>
        <input type="color" id="space_color" name="space_color" value="#000000" />
        <label for="space_color">余白背景 (好みの色を指定すると余白の背景が変わります)</label>
      </span>&nbsp;
      <span>
        <input type="range" id="future_opacity" name="future_opacity" min="0.0" max="0.5" step="0.01" />
        <label for="future_opacity">未実施試合のチームカラー透明度 [<span id="current_opacity"></span>] (0:白 ⇒ 0.5: 濃) </label>
      </span>&nbsp;
      <input type="button" id="reset_storage" name="reset_storage" value="ブラウザで覚えた状態をリセット" />
      <br/>
      <span>
        <input type="range" id="scale_slider" name="scale_slider" list="match_date_set" min=0 max=1 step=0.1 value=1.0 />
        <label for="scale_slider"> グラフ表示領域縮小 [<span id="current_scale"></span> 倍表示]</label>
      </span>
      
      <hr/>
      データ参照元: <a href='https://www.jleague.jp/match/'>Jリーグ公式サイト: 日程結果</a><br/>
      <br/>
      <a href="https://github.com/mokekuma-git/JLeague_Matches-Bar_Graph">Github公開場所 (説明などもこちら)</a>
      <hr/>
    </form>
    <table id="csv-table"></table>

    <script type="module" src="script/readcsv.js"></script>
  </body>
</html>
