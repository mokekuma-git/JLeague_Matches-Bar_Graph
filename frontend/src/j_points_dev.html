<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>J Points (TypeScript dev)</title>
  <!-- SortableTable from CDN (same as production j_points.html) -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@riversun/sortable-table/lib/sortable-table.js"></script>
  <!-- publicDir=docs/ in dev mode, so these paths resolve to docs/*.css -->
  <link rel="stylesheet" href="/j_points.css">
  <link rel="stylesheet" href="/team_style.css">
</head>
<body>

<section id="controls" style="margin:1em; display:flex; gap:1.5em; flex-wrap:wrap; align-items:center;">
  <label>
    カテゴリ:
    <select id="category_key">
      <option value="1">J1</option>
      <option value="2">J2</option>
      <option value="3">J3</option>
    </select>
  </label>
  <label>
    シーズン:
    <select id="season_key"></select>
  </label>
  <label>
    表示日:
    <input type="date" id="target_date">
  </label>
  <label>
    チームソート:
    <select id="team_sort_key">
      <option value="point">勝点(最新)</option>
      <option value="disp_point">勝点(表示時)</option>
      <option value="avlbl_pt">最大勝点(最新)</option>
      <option value="disp_avlbl_pt">最大勝点(表示時)</option>
    </select>
  </label>
  <label>
    試合ソート:
    <select id="match_sort_key">
      <option value="last_top">日付順(未消化↓)</option>
      <option value="first_top">日付順(未消化↑)</option>
      <option value="last_bottom">節順(未消化↓)</option>
      <option value="first_bottom">節順(未消化↑)</option>
    </select>
  </label>
  <span id="status_msg" style="color:#666; font-size:0.9em;"></span>
</section>

<section id="ranktable_section" style="margin:1em;">
  <div class="sortable-table">
    <table id="ranktable" class="ranktable">
      <thead>
        <tr>
          <th data-id="rank" sortable></th>
          <th data-id="name">チーム</th>
          <th data-id="all_game" sortable>試合</th>
          <th data-id="point" sortable>勝点</th>
          <th data-id="avrg_pt" sortable>平均</th>
          <th data-id="avlbl_pt" sortable>最大</th>
          <th data-id="win" sortable>勝</th>
          <th data-id="pk_win" sortable>PK勝</th>
          <th data-id="pk_loss" sortable>PK負</th>
          <th data-id="draw" sortable>分</th>
          <th data-id="lose" sortable>負</th>
          <th data-id="goal_get" sortable>得点</th>
          <th data-id="goal_lose" sortable>失点</th>
          <th data-id="goal_diff" sortable>点差</th>
          <th data-id="future_game" sortable>残り</th>
          <th data-id="champion" sortable>優勝</th>
          <th data-id="promotion" sortable>昇格<br/>ACL</th>
          <th data-id="relegation" sortable>残留</th>
        </tr>
      </thead>
    </table>
  </div>
</section>

<script type="module" src="./j_points.ts"></script>
</body>
</html>
